!function o(l,c,s){function a(e,t){if(!c[e]){if(!l[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(h)return h(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var n=c[e]={exports:{}};l[e][0].call(n.exports,function(t){return a(l[e][1][t]||t)},n,n.exports,o,l,c,s)}return c[e].exports}for(var h="function"==typeof require&&require,t=0;t<s.length;t++)a(s[t]);return a}({1:[function(t,e,i){"use strict";var r=t("./level/class1"),n=t("./library"),o=void 0,l=void 0,c=new n.CollisionDetection,s=!1,a=new n.Rect,h=[],u=0,f=void 0;function d(){var t=(o=document.getElementById("canvas")).getContext("2d"),e=o.width,i=o.height;if(t.clearRect(0,0,e,i),a.draw(o),t.font="10pt Arial",t.textAlign="right",t.fillText(u,e,10),f.draw(o),h.forEach(function(t,e){t.draw(o),c.CircleRectColliding(f,t)&&(console.log("break brick !!"),h.splice(e,1),u+=1,f.vy=-f.vy)}),c.CircleRectColliding(f,a)&&(f.vy=-f.vy,console.log("collision")),f.y>o.height-20)return window.cancelAnimationFrame(l),s=!1,void v();s&&(l=window.requestAnimationFrame(d))}function v(){u=0,o=document.getElementById("canvas"),a.x=o.width/2-a.w,a.y=o.height-a.h-30,f=new n.Ball({x:a.x+a.w/2,y:a.y-a.h/2-5,r:10}),h=[],r.map.forEach(function(t){h.push(new n.Rect({x:t[0],y:t[1]}))})}v(),d(),o.addEventListener("mousemove",function(t){a.x=t.clientX-a.w/2}),o.addEventListener("click",function(t){s||(v(),l=window.requestAnimationFrame(d),s=!0)})},{"./level/class1":2,"./library":3}],2:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.map=[[10,30],[60,30],[110,30],[160,30],[210,30],[260,30],[310,30],[360,30],[410,30],[460,30],[510,30],[560,30],[10,60],[60,60],[110,60],[160,60],[210,60],[260,60],[310,60],[360,60],[410,60],[460,60],[510,60],[560,60],[10,90],[60,90],[110,90],[160,90],[210,90],[260,90],[310,90],[360,90],[410,90],[460,90],[510,90],[560,90],[10,120],[60,120],[110,120],[160,120],[210,120],[260,120],[310,120],[360,120],[410,120],[460,120],[510,120],[560,120]]},{}],3:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=e.x,r=e.y;l(this,t),this.x=i||0,this.y=r||0,this.color="blue"};i.Ball=function(t){function i(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};l(this,i);var e=n(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t));return e.vx=5,e.vy=-2,e.r=t.r,e.color="blue",e}return o(i,c),r(i,[{key:"draw",value:function(t){var e=t.getContext("2d");e.beginPath(),e.arc(this.x,this.y,this.r,0,2*Math.PI,!0),e.closePath(),e.fillStyle=this.color,e.fill(),(this.y+this.vy>t.height-this.r||this.y+this.vy<this.r)&&(this.vy=-this.vy),(this.x+this.vx>t.width-this.r||this.x+this.vx<this.r)&&(this.vx=-this.vx),this.x+=this.vx,this.y+=this.vy}}]),i}(),i.Rect=function(t){function i(t){l(this,i);var e=n(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t));return e.w=40,e.h=15,e.color="rgb(200,0,0)",e}return o(i,c),r(i,[{key:"draw",value:function(t){var e=t.getContext("2d");e.fillStyle=this.color,e.fillRect(this.x,this.y,this.w,this.h)}}]),i}(),i.CollisionDetection=function(){this.collidingRecord=[],this.collidingDelay=1e3,this.CircleRectColliding=function(t,e){if(this.collidingRecord[t]&&this.collidingRecord[t].with===e&&(new Date).getTime()<this.collidingRecord[t].time.getTime()+this.collidingDelay)return!1;var i=Math.abs(t.x-e.x-e.w/2),r=Math.abs(t.y-e.y-e.h/2);if(i>e.w/2+t.r)return!1;if(r>e.h/2+t.r)return!1;if(i<=e.w/2)return!0;if(r<=e.h/2)return!0;var n=i-e.w/2,o=r-e.h/2,l=n*n+o*o<=t.r*t.r;return l&&(this.collidingRecord[t]={with:e,time:new Date}),l}}},{}]},{},[1]);
//# sourceMappingURL=bundle.min.js.map
