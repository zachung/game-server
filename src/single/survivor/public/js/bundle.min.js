!function a(u,i,l){function f(t,e){if(!i[t]){if(!u[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var r=i[t]={exports:{}};u[t][0].call(r.exports,function(e){return f(u[t][1][e]||e)},r,r.exports,a,u,i,l)}return i[t].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)f(l[e]);return f}({1:[function(e,t,n){"use strict";var o=a(e("./lib/Application")),r=a(e("./scenes/LoadingScene"));function a(e){return e&&e.__esModule?e:{default:e}}var u=new o.default({width:256,height:256,antialias:!0,transparent:!1,resolution:1,autoStart:!1});u.renderer.view.style.position="absolute",u.renderer.view.style.display="block",u.renderer.autoResize=!0,u.renderer.resize(window.innerWidth,window.innerHeight),document.body.appendChild(u.view),u.start(),u.changeScene(r.default)},{"./lib/Application":5,"./scenes/LoadingScene":16}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.E0S0=n.E0N0=void 0;var o=l(e("../objects/Wall")),r=l(e("../objects/Grass")),a=l(e("../objects/Treasure")),u=l(e("../objects/Door")),i=l(e("../objects/slots/Move"));function l(e){return e&&e.__esModule?e:{default:e}}n.E0N0={map:[[o.default,o.default,o.default,o.default,o.default,o.default,o.default,o.default,o.default,o.default],[o.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,o.default],[o.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,o.default],[o.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,o.default],[o.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,o.default],[o.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,o.default],[o.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,o.default],[o.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,o.default],[o.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,o.default],[o.default,r.default,o.default,o.default,o.default,o.default,o.default,o.default,o.default,o.default]],items:[{Type:a.default,pos:[3,4],params:[[i.default,2]]},{Type:u.default,pos:[1,9],params:["E0S0"]}]},n.E0S0={map:[[o.default,r.default,o.default,o.default,o.default,o.default,o.default,o.default,o.default,o.default],[o.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,o.default],[o.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,o.default],[o.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,o.default],[o.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,o.default],[o.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,o.default],[o.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,o.default],[o.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,o.default],[o.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,r.default,o.default],[o.default,o.default,o.default,o.default,o.default,o.default,o.default,o.default,o.default,o.default]],items:[{Type:a.default,pos:[3,4],params:[[i.default,2]]},{Type:u.default,pos:[1,0],params:["E0N0"]}]}},{"../objects/Door":10,"../objects/Grass":12,"../objects/Treasure":13,"../objects/Wall":14,"../objects/slots/Move":15}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=n.MOVE="move";n.SLOTPARTS_ALL=[o],n.STATIC="static",n.STAY="stay",n.REPLY="reply"},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t={};return t.code=e,t.isDown=!1,t.isUp=!0,t.press=void 0,t.release=void 0,t.downHandler=function(e){e.keyCode===t.code&&(t.isUp&&t.press&&t.press(),t.isDown=!0,t.isUp=!1),e.preventDefault()},t.upHandler=function(e){e.keyCode===t.code&&(t.isDown&&t.release&&t.release(),t.isDown=!1,t.isUp=!0),e.preventDefault()},window.addEventListener("keydown",t.downHandler.bind(t),!1),window.addEventListener("keyup",t.upHandler.bind(t),!1),t}},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),i=e("./PIXI");var r=function(e){function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,i.Application),o(u,[{key:"changeScene",value:function(e,t){this.currentScene&&(this.currentScene.destroy(),this.stage.removeChild(this.currentScene));var n=new e(t);this.stage.addChild(n),n.create(),n.on("changeScene",this.changeScene.bind(this)),this.currentScene=n}},{key:"start",value:function(){for(var e,t=this,n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];(e=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"start",this)).call.apply(e,[this].concat(o));var a=this.renderer.view;this.stage.addChild((new i.Graphics).drawRect(0,0,a.width,a.height)),this.ticker.add(function(e){return t.gameLoop.bind(t)(e)})}},{key:"gameLoop",value:function(e){this.currentScene.tick(e)}}]),u}();n.default=r},{"./PIXI":7}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=new Bump(PIXI)},{}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.Application=PIXI.Application,n.Container=PIXI.Container,n.loader=PIXI.loader,n.resources=PIXI.loader.resources,n.Sprite=PIXI.Sprite,n.Text=PIXI.Text,n.TextStyle=PIXI.TextStyle,n.Graphics=PIXI.Graphics},{}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),r=e("./PIXI");var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Container),o(t,[{key:"create",value:function(){}},{key:"destroy",value:function(){}},{key:"tick",value:function(e){}}]),t}();n.default=a},{"./PIXI":7}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,r=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),a=e("../lib/PIXI"),u=e("../keyboard"),i=(o=u)&&o.__esModule?o:{default:o},l=e("../config/constants");function f(e,t){return e.find(function(e){return e.type===t})}var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a.resources["images/town_tiles.json"].textures["wall.png"]));return e.dx=0,e.dy=0,e.init(),e.slots=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Sprite),r(t,[{key:"addSlotPart",value:function(e){switch(e.type){case l.MOVE:var t=f(this.slots,l.MOVE);if(t){if(t.value>e.value)return;var n=this.slots.indexOf(t);this.slots[n]=e}else this.slots.push(e);return}this.slots.push(e)}},{key:"move",value:function(e){var t=f(this.slots,l.MOVE);t&&(this.x+=this.dx*t.value*e,this.y+=this.dy*t.value*e)}},{key:"take",value:function(e){var t=this;e.forEach(function(e){return t.addSlotPart(e)})}},{key:"operate",value:function(e){e.operate(this)}},{key:"init",value:function(){var e=this,t=(0,i.default)(65),n=(0,i.default)(87),o=(0,i.default)(68),r=(0,i.default)(83);t.press=function(){e.dx=-1,e.dy=0},t.release=function(){o.isDown||0!==e.dy||(e.dx=0)},n.press=function(){e.dy=-1,e.dx=0},n.release=function(){r.isDown||0!==e.dx||(e.dy=0)},o.press=function(){e.dx=1,e.dy=0},o.release=function(){t.isDown||0!==e.dy||(e.dx=0)},r.press=function(){e.dy=1,e.dx=0},r.release=function(){n.isDown||0!==e.dx||(e.dy=0)}}},{key:"tick",value:function(e){this.move(e)}}]),t}();n.default=c},{"../config/constants":3,"../keyboard":4,"../lib/PIXI":7}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,r=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),a=e("../lib/PIXI"),u=e("./GameObject"),i=(o=u)&&o.__esModule?o:{default:o},l=e("../config/constants");var f=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,a.resources["images/town_tiles.json"].textures["door.png"]));return t.map=e[0],t.on("collide",t.actionWith.bind(t)),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.default),r(n,[{key:"actionWith",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"operate";"function"==typeof e[t]&&e[t](this)}},{key:"operate",value:function(e){this.emit("use",this)}},{key:"type",get:function(){return l.REPLY}}]),n}();n.default=f},{"../config/constants":3,"../lib/PIXI":7,"./GameObject":11}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),r=e("../lib/PIXI"),a=e("../config/constants");var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Sprite),o(t,[{key:"type",get:function(){return a.STATIC}}]),t}();n.default=u},{"../config/constants":3,"../lib/PIXI":7}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,r=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),a=e("../lib/PIXI"),u=e("./GameObject"),i=(o=u)&&o.__esModule?o:{default:o},l=e("../config/constants");var f=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a.resources["images/town_tiles.json"].textures["grass.png"]))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"type",get:function(){return l.STATIC}}]),t}();n.default=f},{"../config/constants":3,"../lib/PIXI":7,"./GameObject":11}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,r=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),a=e("../lib/PIXI"),u=e("./GameObject"),i=(o=u)&&o.__esModule?o:{default:o},l=e("../config/constants");var f=function(e){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,a.resources["images/town_tiles.json"].textures["treasure.png"]));return t.inventories=e.map(function(e){return new e[0](e[1])}),t.on("collide",t.actionWith.bind(t)),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.default),r(n,[{key:"toString",value:function(){return["treasure: [",this.inventories.map(function(e){return[e.type,": ",e.value].join("")}).join(", "),"]"].join("")}},{key:"actionWith",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"take";"function"==typeof e[t]&&(e[t](this.inventories),this.emit(t))}},{key:"type",get:function(){return l.REPLY}}]),n}();n.default=f},{"../config/constants":3,"../lib/PIXI":7,"./GameObject":11}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,r=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),a=e("../lib/PIXI"),u=e("./GameObject"),i=(o=u)&&o.__esModule?o:{default:o},l=e("../config/constants");var f=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a.resources["images/town_tiles.json"].textures["wall.png"]))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"type",get:function(){return l.STAY}}]),t}();n.default=f},{"../config/constants":3,"../lib/PIXI":7,"./GameObject":11}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../config/constants");n.default=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=o.MOVE,this.value=t}},{"../../config/constants":3}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),r=e("../lib/PIXI"),a=i(e("../lib/Scene")),u=i(e("./PlayScene"));function i(e){return e&&e.__esModule?e:{default:e}}var l="loading",f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.life=0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"create",value:function(){var e=this,t=new r.TextStyle({fontFamily:"Arial",fontSize:36,fill:"white",stroke:"#ff3300",strokeThickness:4,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6});this.textLoading=new r.Text(l,t),this.addChild(this.textLoading),r.loader.add("images/cat.png").add("images/town_tiles.json").add("images/下載.jpeg").add("images/142441.jpeg").add("images/2ea4c902-23fd-4e89-b072-c50ad931ab8b.jpg").load(function(){return e.emit("changeScene",u.default,{map:"E0S0"})})}},{key:"tick",value:function(e){this.life+=e/30,this.textLoading.text=l+Array(Math.floor(this.life)%4+1).join(".")}}]),t}();n.default=f},{"../lib/PIXI":7,"../lib/Scene":8,"./PlayScene":17}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),r=e("../lib/PIXI"),u=e("../config/constants"),i=a(e("../lib/Scene")),l=a(e("../lib/Bump")),f=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("../config/Map")),c=a(e("../objects/Cat")),s=a(e("../objects/slots/Move"));function a(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function a(e){var t=e.map,n=e.player;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return o.map=t,o.cat=n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i.default),o(a,[{key:"create",value:function(){Math.min(this.parent.width,this.parent.height);this.collideObjects=[],this.replyObjects=[],this.cat||(this.cat=new c.default,this.cat.addSlotPart(new s.default(1)),this.cat.position.set(16,16),this.cat.width=10,this.cat.height=10),this.spawnMap(),this.tipText(),this.addChild(this.cat)}},{key:"spawnMap",value:function(){var r=this,e=f[this.map];e.map.forEach(function(e,o){e.forEach(function(e,t){var n=new e;switch(n.position.set(16*t,16*o),n.type){case u.STAY:r.collideObjects.push(n)}r.addChild(n)})}),e.items.forEach(function(e){var t=new e.Type(e.params);t.position.set(16*e.pos[0],16*e.pos[1]),r.replyObjects.push(t),t.on("take",function(){r.text.text=t.toString(),r.removeChild(t),t.destroy();var e=r.replyObjects.indexOf(t);r.replyObjects.splice(e,1)}),t.on("use",function(){r.text.text="use door",r.emit("changeScene",a,{map:t.map,player:r.cat})}),r.addChild(t)})}},{key:"tipText",value:function(){var e=new r.TextStyle({fontSize:12,fill:"white"});this.text=new r.Text("",e),this.text.x=100,this.addChild(this.text)}},{key:"tick",value:function(e){var t=this;this.cat.tick(e),this.collideObjects.forEach(function(e){l.default.rectangleCollision(t.cat,e,!0)&&e.emit("collide",t.cat)}),this.replyObjects.forEach(function(e){l.default.hitTestRectangle(t.cat,e)&&e.emit("collide",t.cat)})}}]),a}();n.default=d},{"../config/Map":2,"../config/constants":3,"../lib/Bump":6,"../lib/PIXI":7,"../lib/Scene":8,"../objects/Cat":9,"../objects/slots/Move":15}]},{},[1]);
//# sourceMappingURL=bundle.min.js.map
